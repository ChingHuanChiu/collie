Search.setIndex({"docnames": ["core_concepts", "data_passing", "getting_started", "index", "mlflow_integration"], "filenames": ["core_concepts.rst", "data_passing.rst", "getting_started.rst", "index.rst", "mlflow_integration.rst"], "titles": ["Core Concepts", "Data Passing Guide", "Getting Started", "Collie MLOps Framework Documentation", "MLflow Integration"], "terms": {"thi": [0, 2, 4], "section": [], "document": 4, "interfac": 3, "defin": [2, 3], "how": 4, "interact": [], "import": [0, 1, 2, 3], "panda": [0, 2, 3], "pd": [0, 1, 2, 3], "from": [0, 1, 2, 3, 4], "sklearn": [0, 2, 3], "ensembl": [2, 3], "randomforestclassifi": [2, 3], "metric": [0, 1, 2, 3], "accuracy_scor": 0, "matplotlib": [], "pyplot": [], "plt": [], "colli": 4, "transform": [1, 3, 4], "trainer": [1, 3, 4], "evalu": [1, 2, 3, 4], "transformerpayload": [0, 1, 2, 3], "trainerpayload": [0, 1, 2, 3], "evaluatorpayload": [0, 1], "event": [1, 2, 3], "class": [0, 1, 2, 3, 4], "datatransform": 1, "def": [0, 1, 2, 3, 4], "handl": [0, 1, 2, 3, 4], "self": [0, 1, 2, 3, 4], "load": [0, 1, 2], "data": [2, 3], "df": [0, 1, 2], "read_csv": 0, "csv": 0, "log": [0, 2, 3], "info": [0, 1], "paramet": [0, 2], "log_param": [0, 1, 2, 3, 4], "n_sampl": [0, 2], "len": [0, 1, 2, 3], "n_featur": [0, 1, 2, 3], "column": [0, 2, 3], "1": [0, 3], "data_sourc": [0, 1], "process": [0, 1], "prepar": 2, "train": [0, 1, 2, 3, 4], "test": [0, 1], "split": 0, "train_data": [0, 1, 2, 3], "sampl": [], "frac": [], "0": [0, 1, 2, 4], "8": [], "random_st": 2, "42": 2, "test_data": [0, 1, 3], "drop": [0, 3], "index": [], "return": [0, 1, 2, 3], "payload": [2, 3], "validation_data": [0, 1, 3], "none": [0, 1, 3], "modeltrain": [0, 1], "x": [0, 2, 3], "target": [0, 2, 3], "axi": [0, 3], "y": [0, 2, 3], "hyperparamet": [0, 1, 2, 4], "param": [0, 2], "n_estim": 2, "100": [0, 1, 2, 4], "max_depth": 2, "10": 2, "model": [1, 2, 3], "fit": [2, 3], "train_scor": [], "score": [0, 1, 2, 3, 4], "log_metr": [0, 2, 3, 4], "train_accuraci": 2, "featur": [0, 2, 3], "dict": [1, 2, 4], "zip": 2, "feature_importances_": 2, "log_dict": [0, 2, 4], "feature_import": [2, 4], "json": [0, 2, 4], "tag": 0, "run": [0, 2, 3], "set_tag": 4, "model_typ": 4, "random_forest": 4, "framework": [1, 2], "modelevalu": [0, 1], "x_test": 0, "y_test": 0, "y_pred": 0, "predict": 0, "accuraci": [0, 1, 2, 3, 4], "test_accuraci": [], "n_test_sampl": [], "creat": [0, 1], "plot": [0, 4], "fig": [], "ax": [], "subplot": [], "confus": 0, "matrix": 0, "savefig": [], "confusion_matrix": [1, 4], "png": 4, "log_artifact": [1, 4], "close": [], "is_better_than_product": [0, 1], "85": [], "includ": [1, 2], "all": [0, 1, 2, 4], "main": [], "i": [0, 3], "built": 0, "three": [0, 3], "principl": 0, "modular": [0, 3], "each": [0, 1], "stage": [0, 4], "ml": [0, 1, 2, 4], "separ": 0, "driven": [0, 1, 3], "commun": [0, 1], "through": [0, 4], "mlflow": [0, 1, 3], "integr": [0, 1, 3], "deep": [0, 3, 4], "track": [0, 2, 3, 4], "manag": [0, 3], "everi": [0, 1, 4], "follow": 0, "initi": 0, "2": 0, "execut": 0, "3": 0, "4": 0, "emit": 0, "5": [0, 1, 4], "A": 0, "typic": 0, "raw": 0, "deploi": [0, 2], "trial": 0, "regist": [0, 2], "purpos": 0, "preprocess": [0, 2], "engin": [0, 1], "respons": 0, "clean": [0, 4], "valid": [0, 1, 4], "usag": 0, "input": [0, 2], "dataset": [0, 1, 2, 3], "statist": [0, 2], "exampl": [0, 3], "mytransform": [0, 1], "datafram": [0, 1, 2, 3], "log_pd_data": [0, 2], "context": [0, 1, 2], "sourc": [0, 2], "new_featur": 0, "feature1": 0, "feature2": 0, "stat": 0, "machin": [0, 3], "learn": [0, 2, 3], "save": [0, 1], "artifact": [0, 2], "loss": [0, 1, 4], "etc": 0, "automat": [0, 1], "mytrain": [0, 1, 4], "learning_r": [0, 4], "01": [0, 1, 4], "batch_siz": [0, 4], "32": [0, 4], "loop": 0, "epoch": [0, 1, 4], "rang": [0, 4], "train_one_epoch": [0, 4], "optim": [0, 1, 2, 4], "search": 0, "space": 0, "select": 0, "best": [0, 3], "nest": [0, 4], "tunerpayload": [0, 1], "mytun": 0, "best_scor": 0, "best_param": [0, 1], "param_grid": 0, "get": [0, 1, 3, 4], "its": 0, "own": 0, "start_run": [0, 4], "true": [0, 4], "cv_score": 0, "perform": [0, 1, 2, 4], "compar": 0, "experi": [0, 1], "product": [0, 4], "calcul": [0, 2], "determin": 0, "new": [0, 1], "better": [0, 1, 4], "set": [0, 1, 4], "pass_evalu": 0, "flag": 0, "gener": 0, "report": [0, 1], "visual": 0, "doe": 0, "NOT": 0, "do": 0, "transit": 0, "precis": [0, 4], "recal": [0, 4], "decis": 0, "roc": 0, "curv": [0, 4], "output": 0, "fals": [], "otherwis": [], "result": 0, "enum": 0, "ml_model": 0, "mlflowmodelstag": 0, "modelflavor": 0, "myevalu": [0, 1, 4], "__init__": 0, "super": 0, "descript": 0, "team": [0, 4], "scienc": 0, "experiment_accuraci": 0, "prod_model": [0, 4], "load_latest_model": 0, "model_nam": [0, 4], "registered_model_nam": [0, 2, 3], "flavor": 0, "y_pred_prod": 0, "production_accuraci": 0, "is_bett": 0, "els": 0, "No": 0, "so": 0, "accuracy_improv": 0, "check": [0, 1], "registr": 0, "deploy": [0, 1, 2], "e": 0, "g": 0, "archiv": 0, "old": 0, "version": [0, 1, 4], "option": [0, 1, 3], "metadata": [0, 1], "extern": 0, "servic": 0, "behavior": 0, "when": 0, "registri": [0, 2, 4], "specifi": 0, "target_stag": 0, "exist": [0, 1, 2], "archive_existing_vers": 0, "register_model": 0, "transition_model_vers": 0, "move": 0, "statu": [0, 1], "configur": [0, 4], "env": 0, "basic": [0, 2], "recommend": 0, "pusherpayload": [0, 1], "mypush": 0, "you": [0, 2, 4], "can": [0, 2, 4], "add": [0, 1, 2, 3, 4], "logic": 0, "here": [0, 1], "need": 0, "send": 0, "notif": 0, "updat": 0, "databas": [0, 1], "model_uri": [0, 1], "advanc": [0, 3], "request": [], "externaldeploymentpush": [], "first": [0, 1, 3], "Then": [], "model_vers": 1, "registered_vers": [], "deployment_endpoint": [], "http": [2, 3], "your": [0, 3, 4], "api": [], "com": [], "try": [], "post": [], "mlflow_uri": [], "external_deploy": [], "success": [], "deployment_id": [], "id": [0, 1], "str": 1, "except": [], "deployment_error": [], "fail": [], "us": [0, 1, 2, 4], "an": [0, 1], "where": [0, 1], "object": [0, 1], "contain": [0, 1], "type": [0, 1], "standard": 0, "field": 0, "predefin": [0, 1], "common": [0, 3], "extra": [0, 3], "extra_data": [0, 1, 2, 3], "experiment": 0, "val_df": 0, "test_df": 0, "feature_nam": [0, 1, 2, 3], "ag": [0, 1], "incom": [0, 1], "preprocessing_step": 0, "scale": 0, "encod": [0, 1], "data_vers": [0, 1], "v2": [0, 4], "receiv": 0, "both": 0, "val_data": 0, "get_extra": [0, 1], "hyperparam": 0, "train_model": [0, 1], "training_tim": 0, "120": [0, 1], "n_epoch": [0, 1], "50": [0, 1], "dataload": 0, "x_train": 0, "y_train": 0, "load_and_split_data": 0, "concat": [0, 3], "trained_model": 0, "ha": [0, 1, 4], "beyond": 0, "v": 0, "strongli": 0, "train_df": [0, 1], "flexibl": [0, 1, 3], "normal": 0, "helper": [0, 1], "method": [0, 1, 3], "unknown": 0, "Or": [0, 1, 2], "has_extra": [0, 1], "early_stopping_epoch": [0, 1], "best_epoch": [0, 1], "adam": [0, 1, 4], "train_loss": [0, 1], "via": [0, 4], "val_loss": [0, 1], "keep": [0, 1], "previou": [0, 1], "case": 0, "qualiti": 0, "histori": [0, 1], "converg": 0, "checkpoint": 0, "state": 0, "file": [0, 4], "path": 0, "per": 0, "endpoint": 0, "rollback": 0, "practic": [0, 3], "specif": [0, 1, 4], "doesn": [], "t": [], "belong": [], "timestamp": [], "new_model": 0, "new_scor": 0, "prod_scor": 0, "improv": 0, "new_model_scor": 0, "prod_model_scor": 0, "explor": [], "refer": 3, "see": [0, 1, 2, 4], "pattern": [0, 3], "out": [], "directori": 4, "architectur": [1, 3], "compon": [1, 2, 3, 4], "ar": 1, "design": 1, "develop": 1, "mind": 1, "safeti": 1, "have": [1, 2], "clear": 1, "autocomplet": 1, "without": 1, "break": 1, "chang": 1, "conveni": 1, "access": [1, 3, 4], "kei": [1, 3], "default": 1, "safe": 1, "set_extra": 1, "valu": 1, "fluent": 1, "setter": 1, "chain": 1, "build": [1, 3], "fluentli": 1, "n_class": [1, 3], "pydant": 1, "serial": 1, "found": 1, "along": 1, "ani": 1, "05": 1, "pytorch": [1, 2], "tensorflow": 1, "08": 1, "list": [1, 2, 4], "dictionari": 1, "bool": 1, "whether": 1, "promot": 1, "uri": [0, 1], "number": 1, "direct": 1, "readabl": 1, "default_valu": 1, "feature_info": 1, "preprocess_data": 1, "categorical_featur": 1, "gender": 1, "citi": 1, "numeric_featur": 1, "encoding_map": 1, "ny": 1, "la": 1, "scaler_param": 1, "mean": 1, "std": 1, "extend": 1, "inform": 1, "n_categor": 1, "approach": 1, "merg": 1, "training_time_second": 1, "15": 1, "more": [1, 2, 4], "copi": 1, "most": 1, "concis": 1, "35": 1, "evaluate_model": 1, "detail": [1, 2, 3, 4], "report_path": 1, "evaluation_report": 1, "html": 1, "generate_report": 1, "9": 1, "tolist": [1, 3], "per_class_metr": 1, "per_class": 1, "roc_auc_scor": 1, "roc_auc": 1, "evaluation_tim": 1, "2024": 1, "15t10": 1, "30": 1, "00": 1, "should": 2, "primarili": [], "instead": [], "appropri": [], "onli": 1, "monitor": [], "tool": [], "mycompon": [], "time": 1, "start_tim": [], "work": [], "process_data": [], "processing_tim": [], "component_vers": [], "hostnam": [], "socket": [], "gethostnam": [], "execution_timestamp": [], "datetim": [], "now": 2, "isoformat": [], "busi": [], "goe": [], "name": 4, "durat": [], "debug": 1, "altern": [], "wrong": [], "put": [], "correct": [], "core": [1, 2, 3], "ye": [], "NO": [], "training_curv": 1, "custom_metr": [], "note": [], "tuner": [1, 2, 4], "somepayload": 1, "my_new_field": 1, "my_valu": 1, "debug_mod": 1, "training_histori": 1, "gradient_norm": 1, "what": [], "docstr": [], "provid": [3, 4], "serializ": [], "complex": 3, "larg": [], "reli": [], "undocu": [], "other": 4, "modifi": [], "place": [], "show": 1, "start": 1, "load_and_process": 1, "transform_tim": [], "outliers_remov": 1, "outliers_count": 1, "detailed_report": 1, "cm": 1, "frequenc": [], "alwai": [], "custom_report": [], "quick": [], "99": [], "avoid": [], "concept": [1, 2, 3], "page": 1, "guid": [0, 2, 4], "lightweight": [2, 3], "mlop": 2, "python": 2, "higher": 2, "server": 2, "pip": [2, 3], "support": [2, 3], "scikit": 2, "xgboost": 2, "lightgbm": 2, "requir": 2, "one": 2, "local": 2, "host": 2, "port": 2, "5000": [2, 3], "let": 2, "": [1, 2, 3], "simpl": [2, 3], "iri": 2, "The": [2, 3], "load_iri": [2, 3], "iristransform": [2, 3], "target_col": 2, "eventtyp": 2, "data_readi": [], "iristrain": [2, 3], "training_don": [], "coordin": 2, "tracking_uri": [2, 3], "localhost": [2, 3], "iris_classifi": [2, 4], "experiment_nam": [2, 3], "iris_experi": [2, 3], "open": 2, "ui": 2, "avail": [2, 3], "ll": 2, "assess": 2, "tune": [2, 3], "pusher": [2, 4], "custom": [3, 4], "connectionerror": [], "cannot": [], "solut": [], "make": [], "sure": [], "modulenotfounderror": [], "modul": [], "ensur": [], "my_model": [], "github": [], "issu": [], "chinghuanchiu": [], "blob": [], "readm": [], "md": [], "tree": [], "pipelin": 3, "push": 3, "workflow": 3, "orchestr": [3, 4], "setup": 3, "depend": 3, "extens": 3, "easi": 3, "pass": 3, "target_nam": 3, "iris_model": 3, "complet": [3, 4], "next": 3, "step": [3, 4], "troubleshoot": [], "help": 2, "understand": 3, "lifecycl": 3, "flow": 3, "base": 3, "friendli": 3, "wai": 3, "which": 4, "summari": [], "overview": 3, "contract": [], "explain": 4, "within": 4, "function": 4, "attribut": 4, "oper": 4, "inherit": [], "mlflowintegr": [], "singl": 4, "multipl": 4, "95": 4, "93": 4, "94": 4, "f1_score": 4, "935": 4, "entir": 4, "evaluation_result": 4, "importance_dict": 4, "load_model": 4, "latest_model": 4, "parent": 4, "run_nam": 4, "parent_run": 4, "child": 4, "cross": 4, "fold": 4, "f": 4, "fold_": 4, "cv_score_fold_": 4, "current": 4, "get_experi": 4, "get_experiment_by_nam": 4, "my_experi": 4, "set_experi": 4, "new_experi": 4, "organ": 4, "project": 4, "churn": 4, "For": 4, "techniqu": 0, "implement": 4, "expos": 4}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"contract": 4, "api": [], "refer": 4, "usag": 3, "exampl": 1, "complet": 1, "compon": 0, "mlflow": [2, 4], "core": [0, 4], "transform": [0, 2], "trainer": [0, 2], "tuner": 0, "evalu": 0, "pusher": 0, "orchestr": 2, "model": [0, 4], "data": [0, 1], "payload": [0, 1], "class": [], "enumer": [], "concept": 0, "understand": [0, 1], "colli": [0, 1, 2, 3], "": 0, "architectur": 0, "lifecycl": 0, "The": [0, 4], "pipelin": [0, 1, 2], "flow": [0, 1], "detail": 0, "event": 0, "base": 0, "system": 0, "access": 0, "pass": [0, 1], "between": 0, "custom": [0, 1], "comparison": 0, "next": [0, 2], "step": [0, 2], "guid": [1, 3], "user": [1, 3], "friendli": 1, "featur": [1, 4], "three": 1, "wai": 1, "1": [1, 2], "standard": 1, "field": 1, "recommend": 1, "common": 1, "2": [1, 2], "extra": 1, "For": 1, "experiment": 1, "3": [1, 2], "context": 4, "framework": 3, "intern": [], "rare": [], "need": [], "decis": [], "tree": [], "which": [], "method": 4, "us": [], "pattern": 1, "through": 1, "accumul": 1, "condit": 1, "best": 1, "practic": 1, "do": [], "don": [], "t": [], "summari": [], "get": 2, "start": [2, 3], "instal": [2, 3], "prerequisit": 2, "set": 2, "up": 2, "your": 2, "first": 2, "creat": 2, "an": 2, "4": 2, "view": 2, "result": 2, "troubleshoot": [], "connect": [], "error": [], "import": [], "registr": [], "fail": [], "help": [], "mlop": 3, "document": 3, "welcom": 3, "quick": 3, "basic": 3, "tabl": 3, "content": 3, "indic": [], "integr": 4, "overview": 4, "interfac": 4, "avail": 4, "log": 4, "paramet": 4, "metric": 4, "artifact": 4, "load": 4, "advanc": 4, "run": 4, "manag": 4, "experi": 4, "tag": 4}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx.ext.intersphinx": 1, "sphinx": 57}, "alltitles": {"Core Concepts": [[0, "core-concepts"]], "Understanding Collie\u2019s Architecture": [[0, "understanding-collie-s-architecture"]], "Component Lifecycle": [[0, "component-lifecycle"]], "The Pipeline Flow": [[0, "the-pipeline-flow"]], "Components in Detail": [[0, "components-in-detail"]], "Transformer": [[0, "transformer"]], "Trainer": [[0, "trainer"]], "Tuner": [[0, "tuner"]], "Evaluator": [[0, "evaluator"]], "Pusher": [[0, "pusher"]], "Event-Based Data Flow": [[0, "event-based-data-flow"]], "Event and Payload System": [[0, "event-and-payload-system"]], "Accessing Data in Components": [[0, "accessing-data-in-components"]], "Data Passing Between Components": [[0, "data-passing-between-components"]], "Passing Custom Data": [[0, "passing-custom-data"]], "Model Comparison": [[0, "model-comparison"]], "Next Steps": [[0, "next-steps"], [2, "next-steps"]], "Data Passing Guide": [[1, "data-passing-guide"]], "Understanding Data Flow in Collie": [[1, "understanding-data-flow-in-collie"]], "User-Friendly Features": [[1, "user-friendly-features"]], "Three Ways to Pass Data": [[1, "three-ways-to-pass-data"]], "1. Standard Payload Fields (Recommended for Common Data)": [[1, "standard-payload-fields-recommended-for-common-data"]], "2. Extra Data Field (For Custom/Experimental Data)": [[1, "extra-data-field-for-custom-experimental-data"]], "Common Patterns": [[1, "common-patterns"]], "Pattern 1: Passing Data Through the Pipeline": [[1, "pattern-1-passing-data-through-the-pipeline"]], "Pattern 2: Accumulating Extra Data": [[1, "pattern-2-accumulating-extra-data"]], "Pattern 3: Conditional Data Passing": [[1, "pattern-3-conditional-data-passing"]], "Best Practices": [[1, "best-practices"]], "Complete Example": [[1, "complete-example"]], "Getting Started": [[2, "getting-started"]], "Installation": [[2, "installation"], [3, "installation"]], "Prerequisites": [[2, "prerequisites"]], "Install Collie": [[2, "install-collie"]], "Setting Up MLflow": [[2, "setting-up-mlflow"]], "Your First Pipeline": [[2, "your-first-pipeline"]], "Step 1: Create a Transformer": [[2, "step-1-create-a-transformer"]], "Step 2: Create a Trainer": [[2, "step-2-create-a-trainer"]], "Step 3: Create an Orchestrator": [[2, "step-3-create-an-orchestrator"]], "Step 4: View Results": [[2, "step-4-view-results"]], "MLflow Integration": [[4, "mlflow-integration"]], "Overview": [[4, "overview"]], "MLflow Interface": [[4, "mlflow-interface"]], "The MLflow Integration Contract": [[4, "the-mlflow-integration-contract"]], "Available MLflow Methods": [[4, "available-mlflow-methods"]], "Core Logging Methods": [[4, "core-logging-methods"]], "Log Parameters": [[4, "log-parameters"]], "Log Metrics": [[4, "log-metrics"]], "Log Artifacts": [[4, "log-artifacts"]], "Load Models": [[4, "load-models"]], "Advanced Features": [[4, "advanced-features"]], "Run Management": [[4, "run-management"]], "Context Managers": [[4, "context-managers"]], "Experiment Management": [[4, "experiment-management"]], "Tagging": [[4, "tagging"]], "MLflow Methods Reference": [[4, "mlflow-methods-reference"]], "Collie MLOps Framework Documentation": [[3, "collie-mlops-framework-documentation"]], "Welcome to Collie": [[3, "welcome-to-collie"]], "Quick Start": [[3, "quick-start"]], "Basic Usage": [[3, "basic-usage"]], "Table of Contents": [[3, "table-of-contents"]], "User Guide": [[3, null]]}, "indexentries": {}})